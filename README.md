# accountantmatchmaking_scraper

# Проект для загрузки данных компаний и обработки почтовых индексов

Этот проект предназначен для загрузки и обработки данных о компаниях из внешнего API и их сохранения в базе данных Django. Также реализована загрузка данных о почтовых индексов из CSV-файла.

## Описание

Проект состоит из трех основных частей:
1. **Загрузка данных почтовых индексов из CSV-файлов** — данные обрабатываются и сохраняются в базе данных.
2. **Получение и обновление данных о компаниях** — запросы отправляются к внешнему API для получения информации о компаниях.
3. **Получение данных по каждому человеку** — запросы отправляются к внешнему API для получения полной информации о каждом человеке.

## Требования

- Python 3.11+
- Django 5.x
- requests

## Установка

1. Клонируйте репозиторий:

    git clone https://github.com/your-username/project-name.git
    cd project-name

2. Создайте и активируйте виртуальное окружение:

    python -m venv venv
    source venv/bin/activate  # Для Windows используйте venv\Scripts\activate

3. Установите зависимости:

    pip install -r requirements.txt

4. Примените миграции Django:

    python manage.py migrate

5. Запустите скрипт для загрузки данных из CSV и API:

    python modules/1_bot_csv.py

## Как работает проект

- **Загрузка почтовых индексов**: Скрипт загружает данные из CSV-файла и сохраняет их в модель `Location`.
  
- **Обработка данных компаний**: Синхронный клиент `requests` отправляет запросы к внешнему API для получения информации о компаниях. Данные сохраняются в модель `Company`.

- **Синхронная обработка**: Все запросы выполняются синхронно, обрабатывая один запрос за раз.

6. Запустите скрипт для получения данных о компаниях и записи их в базе данных:

    python modules/2_get_listings_company.py
    
7. Запустите скрипт для получения полной информации о каждом человеке и записи их в базе данных:
    python modules/3_get_info_person.py

## Структура проекта

- `1_bot_csv.py`: Загружает данные из CSV-файлов в модель `Location`.
- `2_get_listings_company.py`: Обрабатывает запросы к внешнему API для получения данных о компаниях и обновляет или создает записи в базе данных.
- `3_get_info_person.py`: Обрабатывает запросы к внешнему API для получения полной информации о каждом человеке.


